<div class="container my-5 pb-5 mb-5 d-flex flex-column gap-4">
  <strong>Product Information</strong>

  <div class="form-group">
    <label for="productName">Enter Product name</label>
    <input
      type="text"
      class="form-control"
      id="productName"
      placeholder="Placeholder"
      [(ngModel)]="data.title"
    />
  </div>

  <div class="form-group">
    <label for="productDescription">Enter Product Description</label>
    <input
      type="text"
      class="form-control"
      id="productDescription"
      placeholder="Placeholder"
      [(ngModel)]="data.description"
    />
  </div>

  <div class="form-group">
    <label for="quantity">Enter Quantity</label>
    <input
      type="number"
      class="form-control"
      id="quantity"
      placeholder="Placeholder"
      [(ngModel)]="data.quantity"
    />
  </div>

  <div class="form-group">
    <label for="price">Enter Price</label>
    <input
      type="number"
      class="form-control"
      id="price"
      placeholder="Placeholder"
      [(ngModel)]="data.price"
    />
  </div>

  <div class="form-group">
    <label for="discount">Enter Discount Percentage</label>
    <input
      type="number"
      class="form-control"
      id="discount"
      placeholder="Placeholder"
      [(ngModel)]="data.discount"
    />
  </div>

  <div class="form-group">
    <label for="userImage">This product accept user image?</label>
    <select class="form-control" id="userImage" [(ngModel)]="data.userImage">
      <option
        *ngFor="
          let print of [
            { is: true, value: 'Yes' },
            { is: false, value: 'No' }
          ]
        "
        [value]="print.is"
      >
        {{ print.value }}
      </option>
    </select>
  </div>

  <strong>Add Product images</strong>

  <div>
    <div
      *ngFor="let image of data.images; let i = index; trackBy: trackByFn"
      class="my-3"
    >
      <img
        *ngIf="showUpdate"
        style="max-height: 200px"
        [src]="data.images[i]"
      />

      <label for="image{{ i + 1 }}"> Image {{ i + 1 }} </label>
      <input
        type="file"
        class="form-control-file w-100 mt-1"
        id="image{{ i + 1 }}"
        (change)="addImage($event, i)"
      />
    </div>
    <button class="btn btn-primary w-100 my-3" (click)="data.images.push('')">
      Add Image
    </button>
  </div>

  <strong>Additional Information</strong>
  <div class="">
    <div
      *ngFor="let info of data.additionalInfo; let i = index"
      class="d-flex justify-content-between gap-4"
    >
      <div class="form-group w-100 my-3">
        <label for="infoTitle{{ i }}">Enter Info</label>
        <input
          type="text"
          class="form-control"
          id="infoTitle{{ i }}"
          placeholder="Placeholder"
          [(ngModel)]="data.additionalInfo[i].title"
        />
      </div>

      <div class="form-group w-100 my-3">
        <label for="infoDescription{{ i }}">Enter Description</label>
        <input
          type="text"
          class="form-control"
          id="infoDescription{{ i }}"
          placeholder="Placeholder"
          [(ngModel)]="data.additionalInfo[i].description"
        />
      </div>
    </div>

    <button
      class="btn btn-primary w-100 my-3"
      (click)="data.additionalInfo.push({ title: '', description: '' })"
    >
      Add Info
    </button>
  </div>

  <strong>Available Size</strong>
  <div class="">
    <div
      *ngFor="let info of data.availableSize; let i = index"
      class="d-flex justify-content-between gap-4"
    >
      <div class="form-group w-100">
        <label for="width{{ i }}">Enter Width</label>
        <input
          type="number"
          class="form-control"
          id="width{{ i }}"
          placeholder="Placeholder"
          [(ngModel)]="data.availableSize[i].width"
        />
      </div>

      <div class="form-group w-100">
        <label for="height{{ i }}">Enter Height</label>
        <input
          type="number"
          class="form-control"
          id="height{{ i }}"
          placeholder="Placeholder"
          [(ngModel)]="data.availableSize[i].height"
        />
      </div>
    </div>
    <button
      class="btn btn-primary w-100 my-3"
      (click)="data.availableSize.push({ width: 0, height: 1 })"
    >
      Add Size
    </button>
  </div>

  <strong>Available Print Type</strong>

  <div class="">
    <ng-container
      *ngFor="
        let print of data.availablePrintType;
        let i = index;
        trackBy: trackByFn
      "
    >
      <div class="form-group my-3">
        <label for="printCategory{{ i }}">Enter Category</label>
        <select
          class="form-control"
          id="printCategory{{ i }}"
          [(ngModel)]="data.availablePrintType[i]"
        >
          <option *ngFor="let print of categories" [value]="print._id">
            {{ print.categoryName }}
          </option>
        </select>
      </div>
    </ng-container>
    <button
      class="btn btn-primary w-100 my-3"
      (click)="data.availablePrintType.push('')"
    >
      Add Print Type
    </button>
  </div>

  <strong>Upload Thumbnail</strong>

  <div class="">
    <img *ngIf="showUpdate" style="max-height: 200px" [src]="data.thumbnail" />
    <input type="file" class="form-control-file" (change)="addThub($event)" />
  </div>

  <button
    *ngIf="!showUpdate"
    class="btn btn-primary w-100 my-4"
    (click)="submit()"
  >
    Submit
  </button>
  <ng-container *ngIf="showUpdate">
    <button class="btn btn-primary w-100 my-4" (click)="update()">
      Update
    </button>
    <button class="btn btn-primary w-100 my-1" (click)="close()">Close</button>
  </ng-container>
</div>
